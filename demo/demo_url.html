<html>
	<head>
		<script type="text/javascript" src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
		<script type="text/javascript" src="jquery.mousewheel.js"></script>
		<script type="text/javascript" src="jquery.jp2-viewer.js"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				var baseOpts = {
					url: "http://resolver.kb.nl/resolve?urn=dts:2977098:mpeg21:0001:image",
					workers: [
						{ address: "http://localhost/cgi-bin/jp2", cores: 1 }
					],
					primary: "http://localhost/cgi-bin/jp2"
				};

				$("canvas#big")
					.jp2Viewer($.extend({miniMap: $("canvas#mini")}, baseOpts))
					.jp2ViewerEvents();

				$("canvas#mini")
					.jp2Viewer($.extend({ initScale: "full-height", wrapImage: true }, baseOpts))
					.jp2MinimapEvents({ viewer: $("canvas#big")});
			});
		</script>
	</head>

	<body>
		<canvas id="big" width="800" height="500" style="float: left; border: 1px solid">
		</canvas>
		<canvas id="mini" width="150" height="150" style="float: left; border: 1px solid">
		</canvas>
		<button onclick='$("canvas#big").trigger("rotateBy", 90)'>CW</button>
		<button onclick='$("canvas#big").trigger("rotateBy", -90)'>CCW</button>
		<br>
	</body>
</html>
